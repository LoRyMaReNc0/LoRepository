<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>PharmApp</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { font-family: Arial; padding: 10px; margin: 0; }
        h1 { color: #333; text-align: center; }
        form { display: flex; flex-wrap: wrap; gap: 5px; justify-content: center; margin-bottom: 15px; }
        form input, form select, form button { padding: 10px; font-size: 1em; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; font-size: 0.9em; }
        th { background-color: #f2f2f2; }
        .green { color: green; font-weight: bold; }
        .yellow { color: orange; font-weight: bold; }
        .red { color: red; font-weight: bold; }
        a { margin-right: 5px; text-decoration: none; color: blue; font-size: 0.9em; }
        @media (max-width: 600px) {
            table, thead, tbody, th, td, tr { display: block; }
            th { display: none; }
            td { position: relative; padding-left: 50%; margin-bottom: 10px; }
            td::before { 
                position: absolute;
                left: 10px;
                top: 8px;
                content: attr(data-label);
                font-weight: bold;
            }
        }
    </style>
</head>
<body>
    <h1>PharmApp üíä</h1>

    <form action="/add" method="post">
        <input type="text" name="name" placeholder="Nome" required>
        <input type="text" name="type" placeholder="Tipologia/Scopo">
        <select name="availability" required>
            <option value="green">Disponibile</option>
            <option value="yellow">Quasi finito</option>
            <option value="red">Esaurito</option>
        </select>
        <input type="date" name="expiry" required>
        <button type="submit">Aggiungi</button>
    </form>

    <table>
        <thead>
        <tr>
            <th>Nome</th>
            <th>Tipologia/Scopo</th>
            <th>Disponibilit√†</th>
            <th>Scadenza</th>
            <th>Azioni</th>
        </tr>
        </thead>
        <tbody>
        {% for med in medicines %}
        <tr>
            <td data-label="Nome">{{ med[1] }}</td>
            <td data-label="Tipologia/Scopo">{{ med[2] }}</td>
            <td data-label="Disponibilit√†"><span class="{{ med[3] }}">‚óè</span></td>
            <td data-label="Scadenza">{{ med[4] }}</td>
            <td data-label="Azioni">
                <a href="/edit/{{ med[0] }}">Modifica</a>
                <a href="/delete/{{ med[0] }}">Elimina</a>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</body>
</html>
